// Remove item from basket
const handleRemove = async (id) => {
  try {
    console.log(id);
    
    // Use a query parameter to send the id1
    await axios.delete(`http://localhost:5000/removeItem/${auth.userId}?id1=${id}`);
    
  } catch (error) {
    console.log(`This error occurred: ${error}`);
  }

  try {
    // Fetch updated user data
    const userResponse = await axios.get(`http://localhost:5000/Udata/${auth.userId}`);
    console.log(userResponse.data);

    // Dispatch updated basket data
    dispatch({
      type: 'ADD__TO__CARD',
      payload: userResponse.data,
    });
  } catch (error) {
    console.error(`Error removing item from database: ${error.response?.data || error.message}`);
  }
};
this idea its good for deltet thing 



      app.delete("/removeItem/:id", async (req, res) => {
        const { id1 } = req.query; // Get id1 from the query parameters
      
        try {
          const user = await Users.findById(req.params.id);
          console.log(user, "current request");
      
          if (!user) {
            return res.status(404).send('User not found');
          }
      
          // Filter out the item with the given id1
          const updatedBasket = user.basket.filter((item) => item.id !== id1);
      
          if (user.basket.length === updatedBasket.length) {
            return res.status(404).send('Item not found in basket');
          }
      
          console.log(updatedBasket, "<===>");
          user.basket = updatedBasket; // Update the user's basket
          await user.save();
      
          res.status(200).send({ message: "Item removed successfully", basket: user.basket });
        } catch (error) {
          console.log(`Error removing item: ${error}`);
          res.status(500).send('Error removing item');
        }
      });

when you using delte you should pass the parrimter in header }?id1=${id}` 




import React ,{useEffect,useState}from 'react'
import "./PageAdmin.css"
import axios from "./axios"
import { useGlobalContext } from './context/GlobalContext'
import BASEADDDATA from './BASEADDDATA'


const PageAdmin = () => {
    const {auth} = useGlobalContext()
    const [UsersForAdmin,setUsersFOrAdmin] = useState([])
    const [userCasuette,setUserCasquette] = useState([])


    const Handel__Api = async()=>{
       try{
        const Reponse = await axios.get("/ADMIN")
        const Rpons2 = await axios.get("/casquettes")
        setUserCasquette(Rpons2.data)
        setUsersFOrAdmin(Reponse.data)
        console.log(Reponse.data,Rpons2)
       }
       catch(error){
        console.log(`this eroor by ${error}`)
       }
    }


 useEffect(()=>{
  Handel__Api()
  
 },[])
  return (
    
<div
  className="PageAdmin"
  style={auth.testAdmin === "true" ? { display: "flex" } : { display: "none" }}
>
       <h2>Welcome to Page Admin</h2>
       <br/>
     <div className="ContainerPageAdmin">
        
       <div className="x dataFromDataBase">

        <div className='User__Data__Base'>

        <div className='APPcontainerData'>  
          <div className='xd'>users</div>
          {UsersForAdmin.map((item)=>{
            return <div className='cardData'>
              <h2>  <span >id : </span>   {item._id}</h2>
              <h2> <span>username :  </span>   {item.username}</h2>
              <h2>  <span>email : </span> {item.email}</h2>
              
            </div>
            
           
            
          })}
        </div>

 
        <div className='card__casquette'>
          <div className='titleCard'>Casquette</div>
          
          <div className='containerCasquetetex'>
               {userCasuette.map((item)=>{
                return <div className='CardOwner'>
                  <p>{item._id}</p>
                  
                
                  <img src={`http://localhost:5000/${item.imgItem}`}/>
                </div>   
               })}
          </div>


        </div>

        <div className='card__casquette'>
          <div className='titleCard'>sac</div>
          
          <div className='containerCasquetetex'>
               {userCasuette.map((item)=>{
                return <div className='CardOwner'>
                  <p>{item._id}</p>
                  
                
                  <img src={`http://localhost:5000/${item.imgItem}`}/>
                </div>   
               })}
          </div>


        </div>




          </div> 

       </div>

       
       <div className="x DataBaseCasquette">
        <BASEADDDATA/>
        <br/>
        <div className='delte__section'>   
         <input type='text' placeholder='saisr id refernce' />
         <button>DELETE</button>
         </div>  
       </div>
       
       <div className="x DataBaseSAQUE"></div>
       <div className="x DataBaseLunnete"></div>



        </div>
         
    </div>
  )
}

export default PageAdmin


minimize
